<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>DP_Question | Gary&#39;s House</title>
<meta name="keywords" content="">
<meta name="description" content="Preface Because I always hit a wall with Dynamic Programming problems, I would like to summarize the solution to Dynamic Programming problems(DP).
Basic solution to DP problems：
Initial State State Transition Equation 1. Linear DP 1. 1 Example：Leetcode 300. Longest Increasing Subsequence Given an integer array nums, return the length of the longest strictly increasing subsequence.
Example 1:
Input: nums = [10, 9, 2, 5, 3, 7, 101, 18]
Output: 4">
<meta name="author" content="Gary">
<link rel="canonical" href="https://garywy.github.io/en/posts/study/dp_question/">
<meta name="google-site-verification" content="XYZabc">

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  <meta name="referrer" content="no-referrer-when-downgrade">
<link crossorigin="anonymous" href="/assets/css/stylesheet.397ecfea235757aeed34e7152e1304c0d840fb0e35a533d106a346c6baddf019.css" integrity="sha256-OX7P6iNXV67tNOcVLhMEwNhA&#43;w41pTPRBqNGxrrd8Bk=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://garywy.github.io/img/Q.jpg">
<link rel="icon" type="image/png" sizes="16x16" href="https://garywy.github.io/img/Q.jpg">
<link rel="icon" type="image/png" sizes="32x32" href="https://garywy.github.io/img/Q.jpg">
<link rel="apple-touch-icon" href="https://garywy.github.io/Q.jpg">
<link rel="mask-icon" href="https://garywy.github.io/Q.jpg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="zh" href="https://garywy.github.io/zh/posts/study/dp_question/">
<link rel="alternate" hreflang="en" href="https://garywy.github.io/en/posts/study/dp_question/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@200..900&display=swap" rel="stylesheet">

<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/highlight.min.js" integrity="sha512-Ypjm0o7jOxAd4hpdoppSEN0TQOC19UtPAqD+4s5AlXmUvbmmS/YMxYqAqarQYyxTnB6/rqip9qcxlNB/3U9Wdg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  

<meta property="og:title" content="DP_Question" />
<meta property="og:description" content="Preface Because I always hit a wall with Dynamic Programming problems, I would like to summarize the solution to Dynamic Programming problems(DP).
Basic solution to DP problems：
Initial State State Transition Equation 1. Linear DP 1. 1 Example：Leetcode 300. Longest Increasing Subsequence Given an integer array nums, return the length of the longest strictly increasing subsequence.
Example 1:
Input: nums = [10, 9, 2, 5, 3, 7, 101, 18]
Output: 4" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://garywy.github.io/en/posts/study/dp_question/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-09-29T18:20:59+09:00" />
<meta property="article:modified_time" content="2024-09-29T18:20:59+09:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="DP_Question"/>
<meta name="twitter:description" content="Preface Because I always hit a wall with Dynamic Programming problems, I would like to summarize the solution to Dynamic Programming problems(DP).
Basic solution to DP problems：
Initial State State Transition Equation 1. Linear DP 1. 1 Example：Leetcode 300. Longest Increasing Subsequence Given an integer array nums, return the length of the longest strictly increasing subsequence.
Example 1:
Input: nums = [10, 9, 2, 5, 3, 7, 101, 18]
Output: 4"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://garywy.github.io/en/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Study",
      "item": "https://garywy.github.io/en/posts/study/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "DP_Question",
      "item": "https://garywy.github.io/en/posts/study/dp_question/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "DP_Question",
  "name": "DP_Question",
  "description": "Preface Because I always hit a wall with Dynamic Programming problems, I would like to summarize the solution to Dynamic Programming problems(DP).\nBasic solution to DP problems：\nInitial State State Transition Equation 1. Linear DP 1. 1 Example：Leetcode 300. Longest Increasing Subsequence Given an integer array nums, return the length of the longest strictly increasing subsequence.\nExample 1:\nInput: nums = [10, 9, 2, 5, 3, 7, 101, 18]\nOutput: 4",
  "keywords": [
    
  ],
  "articleBody": "Preface Because I always hit a wall with Dynamic Programming problems, I would like to summarize the solution to Dynamic Programming problems(DP).\nBasic solution to DP problems：\nInitial State State Transition Equation 1. Linear DP 1. 1 Example：Leetcode 300. Longest Increasing Subsequence Given an integer array nums, return the length of the longest strictly increasing subsequence.\nExample 1:\nInput: nums = [10, 9, 2, 5, 3, 7, 101, 18]\nOutput: 4\nExplanation: The longest increasing subsequence is [2, 3, 7, 101], therefore the length is 4.\nExample 2:\nInput: nums = [0, 1, 0, 3, 2, 3]\nOutput: 4\nExample 3:\nInput: nums = [7, 7, 7, 7, 7, 7, 7]\nOutput: 1\n(1) Thought\nInitial State The value of dp[n] in this question can be the length of the longest subsequence among the first n elements. dp[0] = 1 State Transition Equation If there are two elements, it is necessary to determine the size relationship between the first element and the second element. nums=[1, 3], thendp[1] = dp[0] + 1. nums=[3, 1], thendp[1] = dp[0] If there are three elements, and dp[0] and dp[1] are known, it is necessary to determine the size relationship between the third element and all the previous elements. nums=[1, 3, x], first compare 1 to x. If 1 \u003c x, then dp[2] = dp[0] + 1 and so on. Compare 3 to x. If 3 \u003c x, then dp[2] = dp[1] + 1. The process continues in the same way. dp[i] refers to the length of the longest subsequence before the i-th element, so the final result is max(dp). (2) Python Code\ndef longest_increasing_subsequence(nums: list): res = 0 dp = [] for i in range(len(nums)): dp. append(1) for j in range(i): if nums[j] \u003c nums[i]: dp[i] = max(dp[i], dp[j]+1) return max(dp) nums = [10, 9, 2, 5, 3, 7, 101, 18] print(longest_increasing_subsequence(nums)) 1. 2 Example：Leetcode 32. Longest Valid Parentheses\nGiven a string containing just the characters ‘(’ and ‘)’, return the length of the longest valid (well-formed) parentheses substring.\nExample 1:\nInput: s = “(()”\nOutput: 2\nExplanation: The longest valid parentheses substring is “()”.\nExample 2:\nInput: s = “)()())”\nOutput: 4\nExplanation: The longest valid parentheses substring is “()()”.\nExample 3:\nInput: s = \"\"\nOutput: 0\n(1) Thought\nInitial State\nThe value of dp[n] in this question can be the number of complete parentheses among the first n elements. dp[0] = 0 State Transition Equation ifs[i]==\")\", then we need to determine the previous elements[i-1]==\"(\"?. ifs[i-1]==\"(\", andi\u003e=2, dp[i] = dp[i-2] + 2; elsedp[i] = 2. ifs[i-1]==\")\", then we need to find the previous), which meanss[i-1-dp[i-1]]. Therefore, the above State Transition Equation needs to be modified. Ifi\u003e=2, dp[i] = dp[i-1] + dp[i-2-dp[i-1]] + 2; elsedp[i] = dp[i-1] + 2. (2) Python Code\ndef longest_valid_parentheses(s: str): dp = [0]*(len(s)+1) for i in range(1, len(s)): if s[i] == \")\": if s[i-1] == \"(\": if i \u003e= 2: dp[i] = dp[i-2] + 2 else: dp[i] = 2 elif s[i-1-dp[i-1]] == \"(\" and i \u003e dp[i-1]: if i \u003e= 2: dp[i] = dp[i-1] + dp[i-2-dp[i-1]] + 2 else: dp[i] = dp[i-1] + 2 return max(dp) s = \"(()\" print(longest_valid_parentheses(s)) 1. 3 Example Leetcode 97. Interleaving String\nGiven strings s1, s2, and s3, find whether s3 is formed by an interleaving of s1 and s2.\nAn interleaving of two strings s and t is a configuration where s and t are divided into n and m substrings respectively, such that:\ns = s1 + s2 + . . . + sn t = t1 + t2 + . . . + tm |n - m| \u003c= 1 The interleaving is s1 + t1 + s2 + t2 + s3 + t3 + . . . or t1 + s1 + t2 + s2 + t3 + s3 + . . . Note: a + b is the concatenation of strings a and b. Example 1:\nInput: s1 = “aabcc”, s2 = “dbbca”, s3 = “aadbbcbcac”\nOutput: true\nExplanation:\nOne way to obtain s3 is:\nSplit s1 into s1 = “aa” + “bc” + “c”, and s2 into s2 = “dbbc” + “a”. Interleaving the two splits, we get “aa” + “dbbc” + “bc” + “a” + “c” = “aadbbcbcac”. Since s3 can be obtained by interleaving s1 and s2, we return true.\nExample 2:\nInput: s1 = “aabcc”, s2 = “dbbca”, s3 = “aadbbbaccc”\nOutput: false\nExplanation: Notice how it is impossible to interleave s2 with any other string to obtain s3.\nExample 3:\nInput: s1 = “”, s2 = “”, s3 = \"\"\nOutput: true\n(1) Thought\nInitial State\nThe dp[n][n] in this question refers to the fact that the first i elements of s1 and the first j elements of s2 satisfy the above rule, that is, they can be combined to form s3. dp[0][0] = True State Transition Equation First consider the boundary conditions, which means finddp[i][0]anddp[0][j]. This situation is If the i-th previous element in s1 is the i-th previous element in s3orIf the j-th previous element in s2 is the j-th previous element in s3. dp[i][0] = dp[i-1][0] and s1[i-1] == s3[i-1] (i\u003e=1) dp[0][j] = dp[0][j-1] and s2[j-1] == s3[j-1] (j\u003e=1) And consider the situation of dp[i][j]. There are two propobality, one is the i-th previous element in s1 is the i+j-th previous element in s3, the other one isthe j-th previous element in s2 is the i+j-th previous element in s3. That is, any of the following circumstances apply. dp[i][j] = dp[i-1][j] and s1[i-1] == s3[i+j-1] (i, j\u003e=1) dp[i][j] = dp[i][j-1] and s2[j-1] == s3[i+j-1] (i, j\u003e=1) NoticeThe subscript of the n-th element is n-1. (2) Python Code\ndef interleaving_string(s1: str, s2: str, s3: str): m, n = len(s1), len(s2) if m+n != len(s3): return False dp = [[False]*(n+1) for _ in range(m+1)] dp[0][0] = True for i in range(1, m+1): dp[i][0] = dp[i-1][0] and s1[i-1] == s3[i-1] for j in range(1, n+1): dp[0][j] = dp[0][j-1] and s2[j-1] == s3[j-1] for i in range(1, m+1): for j in range(1, n+1): dp[i][j] = (dp[i-1][j] and s1[i-1] == s3[i+j-1]) or \\ (dp[i][j-1] and s2[j-1] == s3[i+j-1]) return dp[-1][-1] s1 = \"aabcc\" s2 = \"dbbca\" s3 = \"aadbbcbcac\" print(interleaving_string(s1, s2, s3)) 1. 4 Example Leetcode 115. Distinct Subsequences\nGiven two strings s and t, return the number of distinct subsequences of s which equals t. The test cases are generated so that the answer fits on a 32-bit signed integer.\nExample 1:\nInput: s = “rabbbit”, t = “rabbit”\nOutput: 3 Explanation:\nAs shown below, there are 3 ways you can generate “rabbit” from s. rabbbit\nrabbbit\nrabbbit\nExample 2:\nInput: s = “babgbag”, t = “bag” Output: 5\nExplanation:\nAs shown below, there are 5 ways you can generate “bag” from s. babgbag\nbabgbag\nbabgbag\nbabgbag babgbag\n(1) Thought\nInitial State The dp in this question refers to the number of subsequences in which the first i elements of t exist among the first j elements of s. dp[0][j] = 1, which meansthe 0-th element（“”）in t exist a subsequence in s. State Transition Equation Refer Example1. 3, we can enumerate first. dp[1][0] = 0, dp[2][0] = 0, . . . dp[1][1] = dp[0][0] + dp[0][1] if t[0] == s[0] else dp[0][1] dp[1][2] = dp[0][1] + dp[1][1] if t[0] == s[1] else dp[1][1] dp[2][1] = dp[1][0] + dp[2][0] if t[1] == s[0] else dp[2][0] Then we can get dp[i][j] = dp[i-1][j-1] + dp[i][j-1] if t[i-1] == s[j-1] else dp[i][j-1] (i, j\u003e=1) (2) Python Code\ndef distinct_subsequences(s: str, t: str): dp = [[0]*(len(s)+1) for _ in range(len(t)+1)] for j in range(len(s)+1): dp[0][j] = 1 for i in range(1, len(t)+1): for j in range(1, len(s)+1): dp[i][j] = dp[i-1][j-1] + dp[i][j-1] if t[i-1] == s[j-1] \\ else dp[i][j-1] return dp[-1][-1] s = \"rabbbit\" t = \"rabbit\" print(distinct_subsequences(s, t)) 1. 5 Example Leetcode 53. Maximum Subarray\nGiven an integer array nums, find the subarray with the largest sum, and return its sum.\nExample 1:\nInput: nums = [-2, 1, -3, 4, -1, 2, 1, -5, 4]\nOutput: 6\nExplanation: The subarray [4, -1, 2, 1] has the largest sum 6.\nExample 2:\nInput: nums = [1] Output: 1\nExplanation: The subarray [1] has the largest sum 1.\nExample 3:\nInput: nums = [5, 4, -1, 7, 8]\nOutput: 23 Explanation: The subarray [5, 4, -1, 7, 8] has the largest sum 23.\n(1) Thought\nInitial State\nThe dp in this question can refer to the maximum sum of the previous i elements. dp[0] = -inf State Transition Equation dp[i] = max(nums[i-1], nums[i-1]+dp[i-1]) (2) Python Code\ndef maximum_subarray(nums: list): dp = [float(\"-inf\") for _ in range(len(nums)+1)] for i in range(1, len(nums)+1): dp[i] = max(nums[i-1], nums[i-1]+dp[i-1]) return max(dp) nums = [-2, 1, -3, 4, -1, 2, 1, -5, 4] print(maximum_subarray(nums)) 1. 6 Example Leetcode 152. Maximum Product Subarray\nGiven an integer array nums, find a subarray that has the largest product, and return the product. The test cases are generated so that the answer will fit in a 32-bit integer.\nExample 1:\nInput: nums = [2, 3, -2, 4]\nOutput: 6 Explanation: [2, 3] has the largest product 6.\nExample 2:\nInput: nums = [-2, 0, -1]\nOutput: 0\nExplanation: The result cannot be 2, because [-2, -1] is not a subarray.\n(1) Thought\nInitial State\nThis question is nearly as same as Example1. 5, but in multiplication, there are cases where negative numbers are multiplied, so it is necessary to set dp_max and dp_min. dp_max[0] = 0, dp_min[0] = 0 State Transition Equation dp_max[i] = max(nums[i-1], nums[i-1]*dp_max[i-1], nums[i-1]*dp_min[i-1]) dp_min[i] = min(nums[i-1], nums[i-1]*dp_max[i-1], nums[i-1]*dp_min[i-1]) (2) Python Code\ndef maximum_product_subarray(nums: list): if len(nums) == 1: return nums[0] dp_max = [0 for _ in range(len(nums)+1)] dp_min = [0 for _ in range(len(nums)+1)] for i in range(1, len(nums)+1): dp_max[i] = max(nums[i-1], nums[i-1]*dp_max[i-1], nums[i-1]*dp_min[i-1]) dp_min[i] = min(nums[i-1], nums[i-1]*dp_max[i-1], nums[i-1]*dp_min[i-1]) return max(dp_max) nums = [2, 3, -2, 4] print(maximum_product_subarray(nums)) 1. 7 Example Leetcode 198. House Robber\nYou are a professional robber planning to rob houses along a street. Each house has a certain amount of money stashed, the only constraint stopping you from robbing each of them is that adjacent houses have security systems connected and it will automatically contact the police if two adjacent houses were broken into on the same night.\nGiven an integer array nums representing the amount of money of each house, return the maximum amount of money you can rob tonight without alerting the police.\nExample 1:\nInput: nums = [1, 2, 3, 1]\nOutput: 4\nExplanation: Rob house 1 (money = 1) and then rob house 3 (money = 3). Total amount you can rob = 1 + 3 = 4.\nExample 2:\nInput: nums = [2, 7, 9, 3, 1]\nOutput: 12\nExplanation: Rob house 1 (money = 2), rob house 3 (money = 9) and rob house 5 (money = 1). Total amount you can rob = 2 + 9 + 1 = 12.\n(1) Thought\nInitial State\nFirst, determine the meaning of dp. This problem can be represented as the maximum value of money in the previous i houses. Therefore, it is one-dimensional and can be determined. dp[0] = 0, dp[1] = nums[0] State Transition Equation The question requires that we cannot steal adjacent houses in a row.\nFor example, when stealing the third house, we must ensure that the house we stole the day before was the first house. Then dp[3] is actually the maximum of the sum of the money in the first and third houses and the money in the second house, and so on. The transfer equation is as follows. dp[i] = max(dp[i-2]+nums[i-1], dp[i-1]) (i\u003e=2) (2) Python Code\ndef house_robber(nums: list): dp = [0 for _ in range(len(nums)+1)] dp[0], dp[1] = 0, nums[0] for i in range(2, len(nums)+1): dp[i] = max(dp[i-2]+nums[i-1], dp[i-1]) return dp[-1] nums = [1, 2, 3, 1] print(house_robber(nums)) 1. 8 Example Leetcode 213. House Robber II\nYou are a professional robber planning to rob houses along a street. Each house has a certain amount of money stashed. All houses at this place are arranged in a circle. That means the first house is the neighbor of the last one. Meanwhile, adjacent houses have a security system connected, and it will automatically contact the police if two adjacent houses were broken into on the same night.\nGiven an integer array nums representing the amount of money of each house, return the maximum amount of money we can rob tonight without alerting the police.\nExample 1:\nInput: nums = [2, 3, 2]\nOutput: 3\nExplanation: You cannot rob house 1 (money = 2) and then rob house 3 (money = 2), because they are adjacent houses.\nExample 2:\nInput: nums = [1, 2, 3, 1]\nOutput: 4\nExplanation: Rob house 1 (money = 1) and then rob house 3 (money = 3). Total amount you can rob = 1 + 3 = 4.\nExample 3:\nInput: nums = [1, 2, 3]\nOutput: 3\n(1) Thought\nInitial State\nFirst, determine the meaning of dp. This problem can be represented as the maximum value of money in the previous i houses. Therefore, it is one-dimensional. dp[0] = 0, dp[1] = nums[0] State Transition Equation The question requires that we cannot steal adjacent houses in a row.\nFor example, when stealing the third house, we must ensure that the house we stole the day before was the first house. Then dp[3] is actually the maximum of the sum of the money in the first and third houses and the money in the second house, and so on. The transfer equation is as follows. dp[i] = max(dp[i-2]+nums[i-1], dp[i-1]) (i\u003e=2) The above is totally same as Example1. 8, however, the houses at the beginning and end are arranged in a continuous line. At this point, we can divide the calculation into two parts. If there are n houses, we can first calculate the first n-1 houses, and then calculate the last n-1 houses, ensuring that the first and last are not consecutive, and then take the maximum value.\n(2) Python Code\ndef house_robber(nums: list): dp = [0 for _ in range(len(nums)+1)] dp[0], dp[1] = 0, nums[0] for i in range(2, len(nums)+1): dp[i] = max(dp[i-2]+nums[i-1], dp[i-1]) return dp[-1] def house_robber2(nums: list): return max(house_robber(nums[1:]), house_robber(nums[:-1])) nums = [2, 3, 2] print(house_robber2(nums)) 1. 9 Example Leetcode 72. Edit Distance\nGiven two strings word1 and word2, return the minimum number of operations required to convert word1 to word2.\nYou have the following three operations permitted on a word:\nInsert a character Delete a character Replace a character Example 1:\nInput: word1 = “horse”, word2 = “ros”\nOutput: 3\nExplanation: horse -\u003e rorse (replace ‘h’ with ‘r’) rorse -\u003e rose (remove ‘r’)\nrose -\u003e ros (remove ’e’)\nExample 2:\nInput: word1 = “intention”, word2 = “execution”\nOutput: 5\nExplanation:\nintention -\u003e inention (remove ’t’)\ninention -\u003e enention (replace ‘i’ with ’e’)\nenention -\u003e exention (replace ’n’ with ‘x’)\nexention -\u003e exection (replace ’n’ with ‘c’)\nexection -\u003e execution (insert ‘u’)\n(1) Thought\nInitial State\nFirst determine the meaning of dp. This question can be the edit distance between the first i elements of word1 and the first j elements of word2. Therefore, it is two-dimensional, and the initial state can be determined. dp[0][0] = 0, dp[i][0] = i, dp[0][j] = j State Transition Equation The topic can be simply described as follows: find the minimum of the insertion cost, deletion cost and replacement cost. Inserting an element or deleting an element requires one operation, means the insertion cost and deletion cost are both 1. If the i-th element in word1 is equal to the j-th element in word2, then no replacement is required, otherwise one operation is required, means the replacement cost is 1 or 0. insert_cost = 1, delete_cost = 1 replace_cost = 0 if word1[i-1] == word2[j-1] else 1 dp[i][j] = min(dp[i-1][j]+1, dp[i][j-1]+1, dp[i-1][j-1] + replace_cost) (i, j\u003e=1) (2) Python Code\ndef edit_distance(word1: str, word2: str): dp = [[0]*(len(word2)+1) for _ in range(len(word1)+1)] for i in range(len(word1)+1): dp[i][0] = i for j in range(len(word2)+1): dp[0][j] = j for i in range(1, len(word1)+1): for j in range(1, len(word2)+1): replace_cost = 0 if word1[i-1] == word2[j-1] else 1 dp[i][j] = min(dp[i-1][j]+1, dp[i][j-1]+1, dp[i-1][j-1]+replace_cost) return dp[-1][-1] word1 = \"horse\" word2 = \"ros\" print(edit_distance(word1, word2)) ",
  "wordCount" : "2691",
  "inLanguage": "en",
  "datePublished": "2024-09-29T18:20:59+09:00",
  "dateModified": "2024-09-29T18:20:59+09:00",
  "author":{
    "@type": "Person",
    "name": "Gary"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://garywy.github.io/en/posts/study/dp_question/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Gary's House",
    "logo": {
      "@type": "ImageObject",
      "url": "https://garywy.github.io/img/Q.jpg"
    }
  }
}
</script>
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css">
    <script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://garywy.github.io/en/" accesskey="h" title="Gary&#39;s Blog (Alt + H)">
                <img src="https://garywy.github.io/img/me.jpg" alt="" aria-label="logo"
                    height="35">Gary&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li>|</li>
                    <li>
                        <a href="https://garywy.github.io/zh/" title="中文"
                            aria-label="中文">中文</a>
                    </li>
                </ul>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://garywy.github.io/en/search" title="🔍Search (Alt &#43; /)" accesskey=/>
                    <span>🔍Search</span>
                </a>
            </li>
            <li>
                <a href="https://garywy.github.io/en/" title="🏠Homepage">
                    <span>🏠Homepage</span>
                </a>
            </li>
            <li>
                <a href="https://garywy.github.io/en/posts" title="📚Article">
                    <span>📚Article</span>
                </a>
            </li>
            <li>
                <a href="https://garywy.github.io/en/archives/" title="⏱Archives">
                    <span>⏱Archives</span>
                </a>
            </li>
            <li>
                <a href="https://garywy.github.io/en/music/" title="🎵music">
                    <span>🎵music</span>
                </a>
            </li>
            <li>
                <a href="https://garywy.github.io/en/about" title="🙋🏻‍♂️About">
                    <span>🙋🏻‍♂️About</span>
                </a>
            </li>
        </ul>
    </nav>
    
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://garywy.github.io/en/">Home</a>&nbsp;»&nbsp;<a href="https://garywy.github.io/en/posts/">Posts</a>&nbsp;»&nbsp;<a href="https://garywy.github.io/en/posts/study/">Study</a></div>
    <h1 class="post-title entry-hint-parent">
      DP_Question
    </h1>
    <div class="post-meta"><span title='2024-09-29 18:20:59 +0900 JST'>2024-09-29</span>&nbsp;·&nbsp;13 min&nbsp;·&nbsp;Gary&nbsp;|&nbsp;Translations:
<ul class="i18n_list">
    <li>
        <a href="https://garywy.github.io/zh/posts/study/dp_question/">中文</a>
    </li>
</ul>


      <div  class="meta-item">&nbsp·&nbsp
        <span id="busuanzi_container_page_pv">本文阅读量<span id="busuanzi_value_page_pv"></span>次</span>
      </div>
    </div>



  </header> 
                    <aside id="toc-container" class="toc-container wide">
    <div class="toc">
        <details  open>
            <summary accesskey="c" title="(Alt + C)">
                <span class="details">Table of Contents</span>
            </summary>

            <div class="inner"><ul>
                    <li>
                        <a href="#preface" aria-label="Preface">Preface</a></li>
                    <li>
                        <a href="#1--linear-dp" aria-label="1.  Linear DP">1.  Linear DP</a>
                    </li>
                </ul>
            </div>
        </details>
    </div>
</aside>
<script>
    let activeElement;
    let elements;
    window.addEventListener('DOMContentLoaded', function (event) {
        checkTocPosition();

        elements = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]');
         
         activeElement = elements[0];
         const id = encodeURI(activeElement.getAttribute('id')).toLowerCase();
         document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
     }, false);

    window.addEventListener('resize', function(event) {
        checkTocPosition();
    }, false);

    window.addEventListener('scroll', () => {
        
        activeElement = Array.from(elements).find((element) => {
            if ((getOffsetTop(element) - window.pageYOffset) > 0 && 
                (getOffsetTop(element) - window.pageYOffset) < window.innerHeight/2) {
                return element;
            }
        }) || activeElement

        elements.forEach(element => {
             const id = encodeURI(element.getAttribute('id')).toLowerCase();
             if (element === activeElement){
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
             } else {
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.remove('active');
             }
         })
     }, false);

    const main = parseInt(getComputedStyle(document.body).getPropertyValue('--article-width'), 10);
    const toc = parseInt(getComputedStyle(document.body).getPropertyValue('--toc-width'), 10);
    const gap = parseInt(getComputedStyle(document.body).getPropertyValue('--gap'), 10);

    function checkTocPosition() {
        const width = document.body.scrollWidth;

        if (width - main - (toc * 2) - (gap * 4) > 0) {
            document.getElementById("toc-container").classList.add("wide");
        } else {
            document.getElementById("toc-container").classList.remove("wide");
        }
    }

    function getOffsetTop(element) {
        if (!element.getClientRects().length) {
            return 0;
        }
        let rect = element.getBoundingClientRect();
        let win = element.ownerDocument.defaultView;
        return rect.top + win.pageYOffset;   
    }
</script>

  <div class="post-content"><h1 id="preface">Preface<a hidden class="anchor" aria-hidden="true" href="#preface">#</a></h1>
<p>Because I always hit a wall with Dynamic Programming problems,  I would like to summarize the solution to Dynamic Programming problems(DP).</p>
<p><em><strong>Basic solution to DP problems：</strong></em></p>
<ul>
<li><em><strong>Initial State</strong></em></li>
<li><em><strong>State Transition Equation</strong></em></li>
</ul>
<h1 id="1--linear-dp">1.  Linear DP<a hidden class="anchor" aria-hidden="true" href="#1--linear-dp">#</a></h1>
<p><strong>1. 1 Example：Leetcode 300.  Longest Increasing Subsequence</strong> <br>
Given an integer array nums,  return the length of the longest strictly increasing subsequence.</p>
<p>Example 1:</p>
<blockquote>
<p><strong>Input:</strong> nums = [10, 9, 2, 5, 3, 7, 101, 18]<br>
<strong>Output:</strong> 4<br>
<strong>Explanation:</strong> The longest increasing subsequence is [2, 3, 7, 101],  therefore the length is 4.</p>
</blockquote>
<p>Example 2:</p>
<blockquote>
<p><strong>Input:</strong> nums = [0, 1, 0, 3, 2, 3]<br>
<strong>Output:</strong> 4</p>
</blockquote>
<p>Example 3:</p>
<blockquote>
<p><strong>Input:</strong> nums = [7, 7, 7, 7, 7, 7, 7]<br>
<strong>Output:</strong> 1</p>
</blockquote>
<hr>
<p><strong>(1) Thought</strong></p>
<ul>
<li>Initial State <br>
The value of dp[n] in this question can be <code>the length of the longest subsequence among the first n elements</code>.
<ul>
<li><code>dp[0] = 1</code></li>
</ul>
</li>
<li>State Transition Equation
<ul>
<li>If there are two elements,  it is necessary to determine the size relationship between the first element and the second element.
<ul>
<li><code>nums=[1,  3]</code>, then<code>dp[1] = dp[0] + 1</code>.</li>
<li><code>nums=[3,  1]</code>, then<code>dp[1] = dp[0]</code></li>
</ul>
</li>
<li>If there are three elements,  and <code>dp[0]</code> and <code>dp[1]</code> are known,  it is necessary to determine the size relationship between the third element and all the previous elements.
<ul>
<li><code>nums=[1,  3,  x]</code>,  first compare 1 to x.  If <code>1 &lt; x</code>,  then <code>dp[2] = dp[0] + 1</code> and so on.  Compare 3 to x.  If <code>3 &lt; x</code>,  then <code>dp[2] = dp[1] + 1</code>.</li>
</ul>
</li>
</ul>
</li>
<li>The process continues in the same way.</li>
<li>dp[i] refers to the length of the longest subsequence before the i-th element,  so the final result is <code>max(dp)</code>.</li>
</ul>
<hr>
<p><strong>(2) Python Code</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">longest_increasing_subsequence</span><span class="p">(</span><span class="n">nums</span><span class="p">:</span> <span class="nb">list</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">res</span> <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">    <span class="n">dp</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)):</span>
</span></span><span class="line"><span class="cl">        <span class="n">dp</span><span class="o">.</span> <span class="n">append</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">nums</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">                <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">],</span>  <span class="n">dp</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">dp</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">nums</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">101</span><span class="p">,</span> <span class="mi">18</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">longest_increasing_subsequence</span><span class="p">(</span><span class="n">nums</span><span class="p">))</span>
</span></span></code></pre></div><hr>
<p><strong>1. 2 Example：Leetcode 32.  Longest Valid Parentheses</strong><br>
Given a string containing just the characters &lsquo;(&rsquo; and &lsquo;)&rsquo;,  return the length of the longest valid (well-formed) parentheses substring.</p>
<p>Example 1:</p>
<blockquote>
<p><strong>Input:</strong> s = &ldquo;(()&rdquo;<br>
<strong>Output:</strong> 2<br>
<strong>Explanation:</strong> The longest valid parentheses substring is &ldquo;()&rdquo;.</p>
</blockquote>
<p>Example 2:</p>
<blockquote>
<p><strong>Input:</strong> s = &ldquo;)()())&rdquo;<br>
<strong>Output:</strong> 4<br>
<strong>Explanation:</strong> The longest valid parentheses substring is &ldquo;()()&rdquo;.</p>
</blockquote>
<p>Example 3:</p>
<blockquote>
<p><strong>Input:</strong> s = &quot;&quot;<br>
<strong>Output:</strong> 0</p>
</blockquote>
<hr>
<p><strong>(1) Thought</strong></p>
<ul>
<li>Initial State<br>
The value of <code>dp[n]</code> in this question can be the number of complete parentheses among the first n elements.
<ul>
<li><code>dp[0] = 0</code></li>
</ul>
</li>
<li>State Transition Equation
<ul>
<li>if<code>s[i]==&quot;)&quot;</code>, then we need to determine the previous element<code>s[i-1]==&quot;(&quot;?</code>.</li>
<li>if<code>s[i-1]==&quot;(&quot;</code>,  and<code>i&gt;=2</code>,  <code>dp[i] = dp[i-2] + 2</code>; else<code>dp[i] = 2</code>.</li>
<li>if<code>s[i-1]==&quot;)&quot;</code>,  then we need to find the previous<code>)</code>,  which means<code>s[i-1-dp[i-1]]</code>.  Therefore,  the above State Transition Equation needs to be modified.  If<code>i&gt;=2</code>,  <code>dp[i] = dp[i-1] + dp[i-2-dp[i-1]] + 2</code>;  else<code>dp[i] = dp[i-1] + 2</code>.</li>
</ul>
</li>
</ul>
<hr>
<p><strong>(2) Python Code</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">longest_valid_parentheses</span><span class="p">(</span><span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">dp</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span>  <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)):</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&#34;)&#34;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&#34;(&#34;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="mi">2</span>
</span></span><span class="line"><span class="cl">                <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
</span></span><span class="line"><span class="cl">            <span class="k">elif</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span> <span class="o">==</span> <span class="s2">&#34;(&#34;</span> <span class="ow">and</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">2</span><span class="o">-</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span> <span class="o">+</span> <span class="mi">2</span>
</span></span><span class="line"><span class="cl">                <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">2</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">dp</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">s</span> <span class="o">=</span> <span class="s2">&#34;(()&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">longest_valid_parentheses</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>
</span></span></code></pre></div><hr>
<p><strong>1. 3 Example Leetcode 97.  Interleaving String</strong><br>
Given strings <code>s1</code>,  <code>s2</code>,  and <code>s3</code>,  find whether <code>s3</code> is formed by an interleaving of <code>s1</code> and <code>s2</code>.<br>
An interleaving of two strings <code>s</code> and <code>t</code> is a configuration where <code>s</code> and <code>t</code> are divided into <code>n</code> and <code>m</code> substrings respectively,  such that:</p>
<ul>
<li><code>s = s1 + s2 + . . .  + sn</code></li>
<li><code>t = t1 + t2 + . . .  + tm</code></li>
<li><code>|n - m| &lt;= 1</code></li>
<li>The interleaving is <code>s1 + t1 + s2 + t2 + s3 + t3 + . . . </code>or <code>t1 + s1 + t2 + s2 + t3 + s3 + . . . </code><br>
Note: <code>a + b</code> is the concatenation of strings <code>a</code> and <code>b</code>.</li>
</ul>
<p>Example 1:</p>
<blockquote>
<p><strong>Input:</strong> s1 = &ldquo;aabcc&rdquo;,  s2 = &ldquo;dbbca&rdquo;,  s3 = &ldquo;aadbbcbcac&rdquo;<br>
<strong>Output:</strong> true<br>
<strong>Explanation:</strong><br>
One way to obtain s3 is:<br>
Split s1 into s1 = &ldquo;aa&rdquo; + &ldquo;bc&rdquo; + &ldquo;c&rdquo;,  and s2 into s2 = &ldquo;dbbc&rdquo; + &ldquo;a&rdquo;. <br>
Interleaving the two splits,  we get &ldquo;aa&rdquo; + &ldquo;dbbc&rdquo; + &ldquo;bc&rdquo; + &ldquo;a&rdquo; + &ldquo;c&rdquo; = &ldquo;aadbbcbcac&rdquo;. <br>
Since s3 can be obtained by interleaving s1 and s2,  we return true.</p>
</blockquote>
<p>Example 2:</p>
<blockquote>
<p><strong>Input:</strong> s1 = &ldquo;aabcc&rdquo;,  s2 = &ldquo;dbbca&rdquo;,  s3 = &ldquo;aadbbbaccc&rdquo;<br>
<strong>Output:</strong> false<br>
<strong>Explanation:</strong> Notice how it is impossible to interleave s2 with any other string to obtain s3.</p>
</blockquote>
<p>Example 3:</p>
<blockquote>
<p><strong>Input:</strong> s1 = &ldquo;&rdquo;,  s2 = &ldquo;&rdquo;,  s3 = &quot;&quot;<br>
<strong>Output:</strong> true</p>
</blockquote>
<hr>
<p><strong>(1) Thought</strong></p>
<ul>
<li>Initial State<br>
The <code>dp[n][n]</code> in this question refers to the fact that <code>the first i elements of s1</code> and <code>the first j elements of s2</code> satisfy the above rule,  that is,  they can be combined to form s3.
<ul>
<li><code>dp[0][0] = True</code></li>
</ul>
</li>
<li>State Transition Equation
<ul>
<li>First consider the boundary conditions,  which means find<code>dp[i][0]</code>and<code>dp[0][j]</code>.  This situation is <code>If the i-th previous element in s1 is the i-th previous element in s3</code>or<code>If the j-th previous element in s2 is the j-th previous element in s3</code>.
<ul>
<li><code>dp[i][0] = dp[i-1][0] and s1[i-1] == s3[i-1] (i&gt;=1)</code></li>
<li><code>dp[0][j] = dp[0][j-1] and s2[j-1] == s3[j-1] (j&gt;=1)</code></li>
</ul>
</li>
<li>And consider the situation of <code>dp[i][j]</code>.  There are two propobality,  one is <code>the i-th previous element in s1 is the i+j-th previous element in s3</code>,  the other one is<code>the j-th previous element in s2 is the i+j-th previous element in s3</code>.  That is,  any of the following circumstances apply.
<ul>
<li><code>dp[i][j] = dp[i-1][j] and s1[i-1] == s3[i+j-1] (i, j&gt;=1)</code></li>
<li><code>dp[i][j] = dp[i][j-1] and s2[j-1] == s3[i+j-1] (i, j&gt;=1)</code></li>
</ul>
</li>
<li>Notice<code>The subscript of the n-th element is n-1</code>.</li>
</ul>
</li>
</ul>
<hr>
<p><strong>(2) Python Code</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">interleaving_string</span><span class="p">(</span><span class="n">s1</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>  <span class="n">s2</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>  <span class="n">s3</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">m</span><span class="p">,</span>  <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s1</span><span class="p">),</span>  <span class="nb">len</span><span class="p">(</span><span class="n">s2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">m</span><span class="o">+</span><span class="n">n</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s3</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">    <span class="n">dp</span> <span class="o">=</span> <span class="p">[[</span><span class="kc">False</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">m</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>
</span></span><span class="line"><span class="cl">    <span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span>  <span class="n">m</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="ow">and</span> <span class="n">s1</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">s3</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span>  <span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">and</span> <span class="n">s2</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">s3</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span>  <span class="n">m</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span>  <span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="ow">and</span> <span class="n">s1</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">s3</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="ow">or</span> \
</span></span><span class="line"><span class="cl">                       <span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">and</span> <span class="n">s2</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">s3</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">dp</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">s1</span> <span class="o">=</span> <span class="s2">&#34;aabcc&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">s2</span> <span class="o">=</span> <span class="s2">&#34;dbbca&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">s3</span> <span class="o">=</span> <span class="s2">&#34;aadbbcbcac&#34;</span> 
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">interleaving_string</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span>  <span class="n">s2</span><span class="p">,</span>  <span class="n">s3</span><span class="p">))</span>
</span></span></code></pre></div><hr>
<p><strong>1. 4 Example Leetcode 115.  Distinct Subsequences</strong><br>
Given two strings <code>s</code> and <code>t</code>,  return the number of distinct subsequences of <code>s</code> which equals <code>t</code>.
The test cases are generated so that the answer fits on a 32-bit signed integer.</p>
<p>Example 1:</p>
<blockquote>
<p><strong>Input:</strong> s = &ldquo;rabbbit&rdquo;,  t = &ldquo;rabbit&rdquo;<br>
<strong>Output:</strong> 3  <br>
<strong>Explanation:</strong><br>
As shown below,  there are 3 ways you can generate &ldquo;rabbit&rdquo; from s.   <br>
<u><strong>rabb</strong></u>b<u><strong>it</strong></u><br>
<u><strong>ra</strong></u>b<u><strong>bbit</strong></u><br>
<u><strong>rab</strong></u>b<u><strong>bit</strong></u></p>
</blockquote>
<p>Example 2:</p>
<blockquote>
<p><strong>Input:</strong> s = &ldquo;babgbag&rdquo;,  t = &ldquo;bag&rdquo;  <br>
<strong>Output:</strong> 5<br>
<strong>Explanation:</strong><br>
As shown below,  there are 5 ways you can generate &ldquo;bag&rdquo; from s. <br>
<u><strong>ba</strong></u>b<u><strong>g</strong></u>bag<br>
<u><strong>ba</strong></u>bgba<u><strong>g</strong></u><br>
<u><strong>b</strong></u>abgb<u><strong>ag</strong></u><br>
ba<u><strong>b</strong></u>gb<u><strong>ag</strong></u>  <br>
babg<u><strong>bag</strong></u></p>
</blockquote>
<hr>
<p><strong>(1) Thought</strong></p>
<ul>
<li>Initial State <br>
The dp in this question refers to the number of subsequences in which <code>the first i elements of t exist among the first j elements of s</code>.
<ul>
<li><code>dp[0][j] = 1</code>,  which means<code>the 0-th element（“”）in t</code> exist a subsequence in s.</li>
</ul>
</li>
<li>State Transition Equation
<ul>
<li>Refer Example1. 3,  we can enumerate first.
<ul>
<li><code>dp[1][0] = 0,  dp[2][0] = 0,  . . . </code></li>
<li><code>dp[1][1] = dp[0][0] + dp[0][1] if t[0] == s[0] else dp[0][1]</code></li>
<li><code>dp[1][2] = dp[0][1] + dp[1][1] if t[0] == s[1] else dp[1][1]</code></li>
<li><code>dp[2][1] = dp[1][0] + dp[2][0] if t[1] == s[0] else dp[2][0]</code></li>
</ul>
</li>
<li>Then we can get
<ul>
<li><code>dp[i][j] = dp[i-1][j-1] + dp[i][j-1] if t[i-1] == s[j-1] else dp[i][j-1] (i, j&gt;=1)</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<p><strong>(2) Python Code</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">distinct_subsequences</span><span class="p">(</span><span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>  <span class="n">t</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">dp</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">t</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span>  <span class="nb">len</span><span class="p">(</span><span class="n">t</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span>  <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="k">if</span> <span class="n">t</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">s</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> \
</span></span><span class="line"><span class="cl">                       <span class="k">else</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">dp</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">s</span> <span class="o">=</span> <span class="s2">&#34;rabbbit&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">t</span> <span class="o">=</span> <span class="s2">&#34;rabbit&#34;</span>  
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">distinct_subsequences</span><span class="p">(</span><span class="n">s</span><span class="p">,</span>  <span class="n">t</span><span class="p">))</span>
</span></span></code></pre></div><hr>
<p><strong>1. 5 Example Leetcode 53.  Maximum Subarray</strong><br>
Given an integer array <code>nums</code>,  find the subarray with the largest sum,  and return its sum.</p>
<p>Example 1:</p>
<blockquote>
<p><strong>Input:</strong> nums = [-2, 1, -3, 4, -1, 2, 1, -5, 4]<br>
<strong>Output:</strong> 6<br>
<strong>Explanation:</strong> The subarray [4, -1, 2, 1] has the largest sum 6.</p>
</blockquote>
<p>Example 2:</p>
<blockquote>
<p><strong>Input:</strong> nums = [1] <br>
<strong>Output:</strong> 1<br>
<strong>Explanation:</strong> The subarray [1] has the largest sum 1.</p>
</blockquote>
<p>Example 3:</p>
<blockquote>
<p><strong>Input:</strong> nums = [5, 4, -1, 7, 8]<br>
<strong>Output:</strong> 23  <br>
<strong>Explanation:</strong> The subarray [5, 4, -1, 7, 8] has the largest sum 23.</p>
</blockquote>
<hr>
<p><strong>(1) Thought</strong></p>
<ul>
<li>Initial State<br>
The dp in this question can refer to <code>the maximum sum of the previous i elements</code>.
<ul>
<li><code>dp[0] = -inf</code></li>
</ul>
</li>
<li>State Transition Equation
<ul>
<li><code>dp[i] = max(nums[i-1],  nums[i-1]+dp[i-1])</code></li>
</ul>
</li>
</ul>
<hr>
<p><strong>(2) Python Code</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">maximum_subarray</span><span class="p">(</span><span class="n">nums</span><span class="p">:</span> <span class="nb">list</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">dp</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="s2">&#34;-inf&#34;</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span>  <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span>  <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">dp</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">nums</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>  
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">maximum_subarray</span><span class="p">(</span><span class="n">nums</span><span class="p">))</span>
</span></span></code></pre></div><hr>
<p><strong>1. 6 Example Leetcode 152.  Maximum Product Subarray</strong><br>
Given an integer array <code>nums</code>,  find a subarray that has the largest product,  and return the product. <br>
The test cases are generated so that the answer will fit in a 32-bit integer.</p>
<p>Example 1:</p>
<blockquote>
<p><strong>Input:</strong> nums = [2, 3, -2, 4]<br>
<strong>Output:</strong> 6  <br>
<strong>Explanation:</strong> [2, 3] has the largest product 6.</p>
</blockquote>
<p>Example 2:</p>
<blockquote>
<p><strong>Input:</strong> nums = [-2, 0, -1]<br>
<strong>Output:</strong> 0<br>
<strong>Explanation:</strong> The result cannot be 2,  because [-2, -1] is not a subarray.</p>
</blockquote>
<hr>
<p><strong>(1) Thought</strong></p>
<ul>
<li>Initial State<br>
This question is nearly as same as Example1. 5,  but in multiplication,  there are cases where negative numbers are multiplied,  so it is necessary to set <code>dp_max</code> and <code>dp_min</code>.
<ul>
<li><code>dp_max[0] = 0,  dp_min[0] = 0</code></li>
</ul>
</li>
<li>State Transition Equation
<ul>
<li><code>dp_max[i] = max(nums[i-1],  nums[i-1]*dp_max[i-1],  nums[i-1]*dp_min[i-1])</code></li>
<li><code>dp_min[i] = min(nums[i-1],  nums[i-1]*dp_max[i-1],  nums[i-1]*dp_min[i-1])</code></li>
</ul>
</li>
</ul>
<hr>
<p><strong>(2) Python Code</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">maximum_product_subarray</span><span class="p">(</span><span class="n">nums</span><span class="p">:</span> <span class="nb">list</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">nums</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="n">dp_max</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>
</span></span><span class="line"><span class="cl">    <span class="n">dp_min</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span>  <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">dp_max</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span>  <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">dp_max</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span>  <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">dp_min</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">        <span class="n">dp_min</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span>  <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">dp_max</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span>  <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">dp_min</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">dp_max</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">nums</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">maximum_product_subarray</span><span class="p">(</span><span class="n">nums</span><span class="p">))</span>
</span></span></code></pre></div><hr>
<p><strong>1. 7 Example Leetcode 198.  House Robber</strong><br>
You are a professional robber planning to rob houses along a street.  Each house has a certain amount of money stashed,  the only constraint stopping you from robbing each of them is that adjacent houses have security systems connected and <strong>it will automatically contact the police if two adjacent houses were broken into on the same night</strong>.</p>
<p>Given an integer array <code>nums</code> representing the amount of money of each house,  return the maximum amount of money you can rob tonight without alerting the police.</p>
<p>Example 1:</p>
<blockquote>
<p><strong>Input:</strong> nums = [1, 2, 3, 1]<br>
<strong>Output:</strong> 4<br>
<strong>Explanation:</strong> Rob house 1 (money = 1) and then rob house 3 (money = 3). <br>
Total amount you can rob = 1 + 3 = 4.</p>
</blockquote>
<p>Example 2:</p>
<blockquote>
<p><strong>Input:</strong> nums = [2, 7, 9, 3, 1]<br>
<strong>Output:</strong> 12<br>
<strong>Explanation:</strong> Rob house 1 (money = 2),  rob house 3 (money = 9) and rob house 5 (money = 1). <br>
Total amount you can rob = 2 + 9 + 1 = 12.</p>
</blockquote>
<hr>
<p><strong>(1) Thought</strong></p>
<ul>
<li>Initial State<br>
First,  determine the meaning of dp.  This problem can be represented as <code>the maximum value of money in the previous i houses</code>.  Therefore,  it is one-dimensional and can be determined.
<ul>
<li><code>dp[0] = 0,  dp[1] = nums[0]</code></li>
</ul>
</li>
<li>State Transition Equation <br>
The question requires that <code>we cannot steal adjacent houses in a row</code>.<br>
For example,  when stealing the third house,  we must ensure that the house we stole the day before was the first house.  <code>Then dp[3] is actually the maximum of the sum of the money in the first and third houses and the money in the second house</code>,  and so on.  The transfer equation is as follows.
<ul>
<li><code>dp[i] = max(dp[i-2]+nums[i-1],  dp[i-1]) (i&gt;=2)</code></li>
</ul>
</li>
</ul>
<hr>
<p><strong>(2) Python Code</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">house_robber</span><span class="p">(</span><span class="n">nums</span><span class="p">:</span> <span class="nb">list</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">dp</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>
</span></span><span class="line"><span class="cl">    <span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>  <span class="n">dp</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>  <span class="n">nums</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span>  <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span><span class="o">+</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span>  <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">dp</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">nums</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">house_robber</span><span class="p">(</span><span class="n">nums</span><span class="p">))</span>
</span></span></code></pre></div><hr>
<p><strong>1. 8 Example Leetcode 213.  House Robber II</strong><br>
You are a professional robber planning to rob houses along a street.  Each house has a certain amount of money stashed.  All houses at this place are arranged in a circle.  That means the first house is the neighbor of the last one.  Meanwhile,  adjacent houses have a security system connected,  and <strong>it will automatically contact the police if two adjacent houses were broken into on the same night</strong>.</p>
<p>Given an integer array <code>nums</code> representing the amount of money of each house,  return the maximum amount of money we can rob tonight without alerting the police.</p>
<p>Example 1:</p>
<blockquote>
<p><strong>Input:</strong> nums = [2, 3, 2]<br>
<strong>Output:</strong> 3<br>
<strong>Explanation:</strong> You cannot rob house 1 (money = 2) and then rob house 3 (money = 2),  because they are adjacent houses.</p>
</blockquote>
<p>Example 2:</p>
<blockquote>
<p><strong>Input:</strong> nums = [1, 2, 3, 1]<br>
<strong>Output:</strong> 4<br>
<strong>Explanation:</strong> Rob house 1 (money = 1) and then rob house 3 (money = 3). <br>
Total amount you can rob = 1 + 3 = 4.</p>
</blockquote>
<p>Example 3:</p>
<blockquote>
<p><strong>Input:</strong> nums = [1, 2, 3]<br>
<strong>Output:</strong> 3</p>
</blockquote>
<hr>
<p><strong>(1) Thought</strong></p>
<ul>
<li>Initial State<br>
First,  determine the meaning of dp.  This problem can be represented as <code>the maximum value of money in the previous i houses</code>.  Therefore,  it is one-dimensional.
<ul>
<li><code>dp[0] = 0,  dp[1] = nums[0]</code></li>
</ul>
</li>
<li>State Transition Equation  <br>
The question requires that <code>we cannot steal adjacent houses in a row</code>.<br>
For example,  when stealing the third house,  we must ensure that the house we stole the day before was the first house.  <code>Then dp[3] is actually the maximum of the sum of the money in the first and third houses and the money in the second house</code>,  and so on.  The transfer equation is as follows.
<ul>
<li><code>dp[i] = max(dp[i-2]+nums[i-1],  dp[i-1]) (i&gt;=2)</code></li>
</ul>
</li>
</ul>
<p>The above is totally same as Example1. 8,  however,  <code>the houses at the beginning and end are arranged in a continuous line</code>. At this point,  we can divide the calculation into two parts.  If there are n houses,  we can first calculate <code>the first n-1 houses</code>,  and then <code>calculate the last n-1 houses</code>,  ensuring that the first and last are not consecutive,  and then <code>take the maximum value</code>.</p>
<hr>
<p><strong>(2) Python Code</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">house_robber</span><span class="p">(</span><span class="n">nums</span><span class="p">:</span> <span class="nb">list</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">dp</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>
</span></span><span class="line"><span class="cl">    <span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>  <span class="n">dp</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>  <span class="n">nums</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span>  <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span><span class="o">+</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span>  <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">dp</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">house_robber2</span><span class="p">(</span><span class="n">nums</span><span class="p">:</span> <span class="nb">list</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">house_robber</span><span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="mi">1</span><span class="p">:]),</span>  <span class="n">house_robber</span><span class="p">(</span><span class="n">nums</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]))</span>
</span></span><span class="line"><span class="cl"><span class="n">nums</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">house_robber2</span><span class="p">(</span><span class="n">nums</span><span class="p">))</span>
</span></span></code></pre></div><hr>
<p><strong>1. 9 Example Leetcode 72.  Edit Distance</strong><br>
Given two strings <code>word1</code> and <code>word2</code>,  return the minimum number of operations required to convert <code>word1</code> to <code>word2</code>.</p>
<p>You have the following three operations permitted on a word:</p>
<ul>
<li>Insert a character</li>
<li>Delete a character</li>
<li>Replace a character</li>
</ul>
<p>Example 1:</p>
<blockquote>
<p><strong>Input:</strong> word1 = &ldquo;horse&rdquo;,  word2 = &ldquo;ros&rdquo;<br>
<strong>Output:</strong> 3<br>
<strong>Explanation:</strong> <br>
horse -&gt; rorse (replace &lsquo;h&rsquo; with &lsquo;r&rsquo;)     <br>
rorse -&gt; rose (remove &lsquo;r&rsquo;)<br>
rose -&gt; ros (remove &rsquo;e&rsquo;)</p>
</blockquote>
<p>Example 2:</p>
<blockquote>
<p><strong>Input:</strong> word1 = &ldquo;intention&rdquo;,  word2 = &ldquo;execution&rdquo;<br>
<strong>Output:</strong> 5<br>
<strong>Explanation:</strong><br>
intention -&gt; inention (remove &rsquo;t&rsquo;)<br>
inention -&gt; enention (replace &lsquo;i&rsquo; with &rsquo;e&rsquo;)<br>
enention -&gt; exention (replace &rsquo;n&rsquo; with &lsquo;x&rsquo;)<br>
exention -&gt; exection (replace &rsquo;n&rsquo; with &lsquo;c&rsquo;)<br>
exection -&gt; execution (insert &lsquo;u&rsquo;)</p>
</blockquote>
<hr>
<p><strong>(1) Thought</strong></p>
<ul>
<li>Initial State<br>
First determine the meaning of dp.  This question can be <code>the edit distance between the first i elements of word1 and the first j elements of word2</code>.  Therefore,  it is two-dimensional,  and the initial state can be determined.
<ul>
<li><code>dp[0][0] = 0,  dp[i][0] = i,  dp[0][j] = j</code></li>
</ul>
</li>
<li>State Transition Equation  <br>
The topic can be simply described as follows: find <code>the minimum of the insertion cost,  deletion cost and replacement cost</code>.  Inserting an element or deleting an element requires one operation,  means <code>the insertion cost and deletion cost are both 1</code>.  If the i-th element in word1 is equal to the j-th element in word2,  then no replacement is required,  otherwise one operation is required,  means the replacement cost is 1 or 0.
<ul>
<li><code>insert_cost = 1,  delete_cost = 1</code></li>
<li><code>replace_cost = 0 if word1[i-1] == word2[j-1] else 1</code></li>
<li><code>dp[i][j] = min(dp[i-1][j]+1,  dp[i][j-1]+1,  dp[i-1][j-1] + replace_cost) (i, j&gt;=1)</code></li>
</ul>
</li>
</ul>
<hr>
<p><strong>(2) Python Code</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">edit_distance</span><span class="p">(</span><span class="n">word1</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>  <span class="n">word2</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">dp</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">word2</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">word1</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">word1</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">word2</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">j</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span>  <span class="nb">len</span><span class="p">(</span><span class="n">word1</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span>  <span class="nb">len</span><span class="p">(</span><span class="n">word2</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="n">replace_cost</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">if</span> <span class="n">word1</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">word2</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="k">else</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">            <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span>  <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span>  <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">replace_cost</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">dp</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">word1</span> <span class="o">=</span> <span class="s2">&#34;horse&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">word2</span> <span class="o">=</span> <span class="s2">&#34;ros&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">edit_distance</span><span class="p">(</span><span class="n">word1</span><span class="p">,</span>  <span class="n">word2</span><span class="p">))</span>
</span></span></code></pre></div>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>

  </footer>
<div>
    <div class="pagination__title">
        <span class="pagination__title-h" style="font-size: 20px;">Comments</span>
        <hr />
    </div>
    <div id="tcomment"></div>
    <script src="https://cdn.staticfile.org/twikoo/1.6.39/twikoo.all.min.js"></script>
    <script>
        twikoo.init({
            envId: "https://mangodb-theta.vercel.app/",  
            el: "#tcomment",
            lang: 'en-US',
            path: window.TWIKOO_MAGIC_PATH||window.location.pathname,
        });
    </script>
</div>

</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2024 <a href="https://garywy.github.io/en/">Gary&#39;s House</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
    
    <div class="busuanzi-footer">
    <span id="busuanzi_container_site_pv">
        Views: <span id="busuanzi_value_site_pv"></span>
    </span>
    <span id="busuanzi_container_site_uv">
        Visitors: <span id="busuanzi_value_site_uv"></span>
    </span>
    </div></footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
